<template>
    <template if:true={visible}>
        <div
            class={mainCSS}
            style="border-bottom: 0.25px solid gray"
        >
            <div class="slds-col slds-grid">
                <div class="slds-col slds-size_7-of-12 slds-large-size_8-of-12 slds-p-horizontal_x-small slds-p-vertical_small">
                    {question.questionInfo.Label__c}
                    <template if:true={hasHelpText}>
                        <lightning-helptext
                            class="slds-m-left_small"
                            content={question.questionInfo.Help_Text__c}
                        >
                        </lightning-helptext>
                    </template>
                </div>
                <div class="slds-col slds-size_4-of-12 slds-large-size_3-of-12 slds-p-horizontal_x-small">
                    <c-cpq_-playbook-question-answer
                        action-set={question.questionInfo.actionSet}
                        opp-currency={oppCurrency}
                        question-info={question.questionInfo}
                        ontouch={answerTouch}
                    >
                    </c-cpq_-playbook-question-answer>
                </div>
                <div class="slds-col slds-size_1-of-12 slds-p-horizontal_x-small slds-p-vertical_small">
                    <div class="slds-align_absolute-center">
                        <!-- Completed -->
                        <template if:true={completed}>
                            <lightning-icon
                                icon-name="utility:check"
                                alternative-text="Complete"
                                title="Complete"
                                size="xx-small"
                                variant="success"
                            >
                            </lightning-icon>
                        </template>

                        <!-- Completed -->
                        <template if:true={needsAttention}>
                            <lightning-icon
                                icon-name="utility:warning"
                                alternative-text="Needs Attention"
                                title="Needs Attention"
                                size="xx-small"
                                variant="error"
                            >
                            </lightning-icon>
                        </template>
                    </div>
                </div>
            </div>

            <!-- Record Lookup -->
            <template if:true={isRecordLookup}>
                <div class="slds-col slds-grid_vertical slds-m-horizontal_small slds-m-vertical_xx-small slds-box slds-theme_default">
                    <c-cpq_-record-lookup-results
                        config-type={configType}
                        mode="selected"
                        question-info={question.questionInfo}
                        query-set={question.questionInfo.querySet}
                        ontouch={answerTouch}
                    >
                    </c-cpq_-record-lookup-results>
                </div>
            </template>
        </div>
    </template>
</template>