<template>
    <div class="slds-grid_vertical slds-m-top_x-small">
        <!-- Header -->
        <div
            class="slds-col slds-grid slds-theme_shade slds-text-heading_medium slds-p-around_x-small"
            style="border-radius: 10px;"
        >
            <div>
                {playbook.playbookInfo.Name}
            </div>

            <template if:true={hasApprovals}>
                <div class="slds-col_bump-left slds-text-heading_small">
                    <ul class="slds-list_horizontal">
                        <li class="slds-m-right_x-small">
                            Approval Needed
                        </li>
                        <li>
                            <lightning-icon
                                icon-name="utility:priority"
                                alternative-text="Approval(s) Needed"
                                title="Approval(s) Needed"
                                size="x-small"
                                variant="warning"
                            >
                            </lightning-icon>
                        </li>
                    </ul>
                </div>
            </template>            
        </div>

        <!-- Question Groups -->
        <template
            for:each={playbook.questionGroups}
            for:item="group"
        >
            <c-cpq_-playbook-question-group
                key={group.groupInfo.Id}
                group={group}
                opp-currency={oppCurrency}
                ontouch={answerTouch}
            >
            </c-cpq_-playbook-question-group>
        </template>

        <!-- Entitlement Summary -->
        <c-cpq_-quote-entitlement-summary
            entitlement-columns={entitlementColumns}
            entitlements={entitlements}
            opp-currency={oppCurrency}
        >
        </c-cpq_-quote-entitlement-summary>

        <!-- Product Summary -->
        <c-cpq_-quote-product-summary
            config-type={configType}
            opp-currency={oppCurrency}
            pricebook={pricebook}
            product-columns={productColumns}
            quote-products={quoteProducts}
            onaddproducts={addProducts}
            onremove={removeProduct}
            onupdate={updateProduct}
        >
        </c-cpq_-quote-product-summary>

        <!-- Approval Summary -->
        <template if:true={hasApprovals}>
            <c-cpq_-quote-approval-summary
                opp-info={oppInfo}
                quote-approvals={quoteApprovals}
                user-info={userInfo}
            >
            </c-cpq_-quote-approval-summary>
        </template>
    </div>
</template>