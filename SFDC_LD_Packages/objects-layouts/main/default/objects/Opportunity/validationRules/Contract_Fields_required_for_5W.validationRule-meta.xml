<?xml version="1.0" encoding="UTF-8"?>
<ValidationRule xmlns="http://soap.sforce.com/2006/04/metadata">
    <fullName>Contract_Fields_required_for_5W</fullName>
    <active>true</active>
    <description>This rule ensures that all Closing fields are filled before we can update the Opportunity stage to Closed Won</description>
    <errorConditionFormula>AND( contains( 
$Profile.Name, &quot;Sales&quot;), 
NOT(ISPICKVAL(Type, &quot;Churn&quot;)), 
NOT(ISPICKVAL(Type, &quot;Renewal&quot;)),
NOT(ISPICKVAL(Type, &quot;Services&quot;)), 
NOT(ISPICKVAL(Type, &quot;Expansion Add-on&quot;)), 
ISPICKVAL(Plan__c , &quot;Enterprise&quot;), 

    OR( 
       ISBLANK( Signature_Process__c)

    ),
CONTAINS(TEXT(StageName), &quot;Closed Won&quot;),
NOT(ISPICKVAL( Type , &quot;Trial&quot;))
)</errorConditionFormula>
    <errorMessage>Please fill &quot;Signature Process&quot; field before moving Stage to Closed Won</errorMessage>
</ValidationRule>
