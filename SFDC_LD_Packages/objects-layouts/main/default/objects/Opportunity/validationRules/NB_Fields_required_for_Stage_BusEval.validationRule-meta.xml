<?xml version="1.0" encoding="UTF-8"?>
<ValidationRule xmlns="http://soap.sforce.com/2006/04/metadata">
    <fullName>NB_Fields_required_for_Stage_BusEval</fullName>
    <active>false</active>
    <description>This rule ensures that all Evaluating fields are filled before we can update the Opportunity stage to Business Evaluation</description>
    <errorConditionFormula>AND(
NOT(ISPICKVAL( Type , &quot;Trial&quot;)),
contains( 
$Profile.Name, &quot;Sales&quot;),
NOT(ISPICKVAL(Plan__c, &quot;Startup&quot;)),
NOT(ISPICKVAL(Plan__c, &quot;Pro&quot;)),
NOT(ISPICKVAL(Type, &quot;Expansion&quot;)),
NOT(ISPICKVAL(Type, &quot;Expansion Add-on&quot;)),
NOT(ISPICKVAL(Type, &quot;Churn&quot;)),
NOT(ISPICKVAL(Type, &quot;Contraction&quot;)),
NOT(ISPICKVAL(Type, &quot;Renewal&quot;)),
NOT(ISPICKVAL(Type, &quot;Services&quot;)),


    OR(
        ISBLANK(Technical_Decision_Criteria__c),
        ISBLANK(Technical_Decision_Owner__c),
        ISBLANK(Why_Choose_LD__c)


    ),
    CONTAINS(TEXT(StageName), &quot;Business&quot;)
)</errorConditionFormula>
    <errorMessage>Please fill all &quot;Technical Evaluation&quot; fields before moving Stage to Business Evaluation:
What challenges are they facing?
What is the decision criteria?
Who owns the technical decision?</errorMessage>
</ValidationRule>
